{"version":3,"sources":["../../src/pages/allbooks/allbooks.module.ts","../../src/pages/allbooks/allbooks.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AllbooksPage } from './allbooks';\n\n@NgModule({\n  declarations: [\n    AllbooksPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AllbooksPage),\n  ],\n})\nexport class AllbooksPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/allbooks/allbooks.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController } from 'ionic-angular';\nimport { App } from 'ionic-angular';\nimport { BarcodeScanner } from \"@ionic-native/barcode-scanner\";\nimport { BookdetailsPage } from '../bookdetails/bookdetails';\nimport { SettingsPage } from '../settings/settings';\nimport { RestApiProvider } from '../../providers/rest-api/rest-api';\nimport { FormGroup, FormBuilder, FormControl, Validators } from '@angular/forms';\nimport { AlertController } from 'ionic-angular';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-allbooks',\n  templateUrl: 'allbooks.html',\n})\nexport class AllbooksPage {\n  isbookadding: boolean = false;\n  iconName: string = \"add\";\n  encodeData: any;\n  bookname: any;\n  items: any;\n  usrRoleId: number;\n  frmbooks: FormGroup;\n  categories: any;\n  publishers: any;\n  languages: any;\n\n  constructor(\n    public api: RestApiProvider,\n    public navCtrl: NavController,\n    public app: App,\n    private formBuilder: FormBuilder,\n    public apiProvider: RestApiProvider,\n    private barcodeScanner: BarcodeScanner,\n    public loadingCtrl: LoadingController,\n    public navParams: NavParams) {\n    this.usrRoleId = this.apiProvider.UserRoleId;\n    this.initializeItems();\n    this.frmbooks = this.formBuilder.group({\n      bookname: new FormControl('', [Validators.required]),\n      publisher: new FormControl('', [Validators.required]),\n      author: new FormControl('', [Validators.required]),\n      price: new FormControl('', [Validators.required]),\n      Category: new FormControl('', [Validators.required]),\n      language: new FormControl('', [Validators.required]),\n      quantity: new FormControl('', [Validators.required]),\n    });\n  }\n\n\n  ionViewDidLoad() {\n    // console.log('ionViewDidLoad AllbooksPage');\n  }\n\n  addbook() {\n    if (this.isbookadding == false) {\n      this.isbookadding = true;\n      this.iconName = \"close\";\n    } else {\n      this.isbookadding = false;\n      this.iconName = \"add\";\n    }\n  }\n\n  addBook() {\n    if (this.frmbooks.valid) {\n      let params = {\n        \"BookName\": this.frmbooks.value.bookname,\n        \"cmd\": \"1\",\n        \"EmailID\": \"kundansakpal@gmail.com\",\n        \"Price\": this.frmbooks.value.price,\n        \"Author\": this.frmbooks.value.author,\n        \"Stock\": this.frmbooks.value.quantity,\n        \"CategoryID\": this.frmbooks.value.Category,\n        \"LanguageID\": '1',//this.frmbooks.value.language,\n        \"PublisherID\": '2',//this.frmbooks.value.publisher,\n        \"BookID\": \"\"\n      };\n      this.api._postAPI(\"ManageBooks\", params).subscribe(res => {\n        // User exists\n        alert('Manage Books Data ::'+ JSON.stringify(res.ManageBooksResult));\n        this.api.presentAlert('Alert!','Book Added Sucessfully');\n        this.frmbooks.reset();\n        this.initializeItems();\n      }, (err) => {\n        alert('Error:' + err);\n      });\n      // this.barcodeScanner.encode(this.barcodeScanner.Encode.TEXT_TYPE,'Kundan Sakpal').then((encodedData) => {\n      //     this.encodeData = encodedData;\n      // }, (err) => {\n      //     console.log(\"Error occured : \" + err);\n      // }); \n    } else {\n      alert('All Fields are mandatory');\n    }\n  }\n\n  // Delete Book Details\n  updateBook(item:any){\n    let loading = this.loadingCtrl.create({\n      content: 'Please wait...while book gets deleted'\n    });\n  \n    loading.present();\n    let params = {\n      \"BookName\": item.BookName,\n      \"cmd\": \"3\", // Command 3 for Delete Book\n      \"EmailID\": \"kundansakpal@gmail.com\",\n      \"Price\": item.Price,\n      \"Author\": item.AuthorName,\n      \"Stock\": item.Stock,\n      \"CategoryID\": item.CategoryID,\n      \"LanguageID\": item.LanguageID,\n      \"PublisherID\": item.PublisherID,\n      \"BookID\": item.BookID\n    };\n    this.apiProvider._postAPI(\"ManageBooks\", params).subscribe(res => {\n      // Manage Books Data\n      // alert('Manage Books Data ::'+ JSON.stringify(res.ManageBooksResult));\n      if(res.ManageBooksResult.length >0){\n        this.apiProvider.presentAlert('Alert!','Book Deleted Sucessfully');\n        loading.dismiss();\n      }else{\n        this.apiProvider.presentAlert('Alert!','Something went wrong. Please try again!!!');\n        loading.dismiss();\n      }\n    }, (err) => {\n      alert('Error:' + err);\n      loading.dismiss();\n    });\n  }\n\n\n  bookDetails(item: any) {\n    let nav = this.app.getRootNav();\n    nav.setRoot(BookdetailsPage, {\n      bookData: item\n    });\n  }\n\n  initializeItems() {\n    // this.items = [\n    //   { title:'The Poets Laureate Anthology', subtitle:\"An anthology is a collection of series of works such as short stories, poems, essays, plays, etc. by different authors into a single volume for publication. The selection of such works is made based on some common theme or subject of books and usually done by an editor or small editorial board.\", publisher:\"Publisher 1\", category:\"Anthology\", author:\"Elizabeth Hun Schmidt\", icon:\"assets/img/books/Poets.jpeg\" } ,\n    //   { title:'To Kill a Mockingbird', subtitle:\"To Kill a Mockingbird. The selection of such works is made based on some common theme or subject of books and usually done by an editor or small editorial board.\", publisher:\"Publisher 2\", category:\"Anthology\", author:\"Harper Lee\", icon:\"assets/img/books/ToKillaMockingbird.jpeg\" } ,\n    //   { title:'Batman: The Dark Knight Returns', subtitle:\"Batman: The Dark Knight Returns anthology is a collection of series of works such as short stories, poems, essays, plays, etc. by different authors into a single volume for publication. The selection of such works is made based on some common theme or subject of books and usually done by an editor or small editorial board.\", publisher:\"Publisher 3\", category:\"Comic and Graphic Novel\", author:\"Frank Miller\", icon:\"assets/img/books/Batman-TheDarkKnightReturns.jpeg\" } ,\n    //   { title:'Sherlock Holmes', subtitle:\"Arthur Conan Doyle for publication. The selection of such works is made based on some common theme or subject of books and usually done by an editor or small editorial board.\", publisher:\"Publisher 3\", category:\"Comic and Graphic Novel\", author:\"Elizabeth Hun Schmidt\", icon:\"assets/img/books/Batman-TheDarkKnightReturns.jpeg\" }\n    // ];\n    let loading = this.loadingCtrl.create({\n      content: 'Please wait...'\n    });\n  \n    loading.present();\n    this.api._postAPI(\"GetBooks\", '').subscribe(res => {\n        // User exists\n        // alert('Books Data ::'+ JSON.stringify(res.GetBooksResult));\n        if (res.GetBooksResult.length > 0) {\n          this.items = res.GetBooksResult;\n        } else {\n          alert('No data available.')\n        }\n      }, (err) => {\n        alert('Error:' + err);\n      });\n    loading.dismiss();\n    this.items = JSON.parse(localStorage.getItem('BooksData'));\n    this.categories = this.items[0].Categories;\n    this.publishers = this.items[0].Publishers;\n    this.languages = this.items[0].Languages;\n    // alert('categories :' + JSON.stringify(this.categories));\n  }\n\n  getItems(ev) {\n    // Reset items back to all of the items\n    // this.initializeItems();\n    // set val to the value of the ev target\n    var val = ev.target.value;\n    // if the value is an empty string don't filter the items\n    if (val && val.trim() != '') {\n      // this.items = this.items.filter((item) => {\n      //   return JSON.stringify(item).toLowerCase().includes(val);\n      // });\n\n      if (val && val.trim() != '') {\n        this.items = this.items.filter((item) => {\n          return (item.toUpperCase().indexOf(val.toUpperCase()) > -1);\n        })\n      }\n    }\n  }\n\n  filterItems(ev) {\n    var val = ev.target.value;\n    if (val.trim() !== '') \n    {\n      this.items = this.items.filter((item) => \n      {\n        return item.BookName.toLowerCase().indexOf(val.toLowerCase()) > -1 || \n        item.CategoryName.toLowerCase().indexOf(val.toLowerCase()) > -1 ||\n        item.PublisherName.toLowerCase().indexOf(val.toLowerCase()) > -1 ||\n        item.AuthorName.toLowerCase().indexOf(val.toLowerCase()) > -1 ||\n        item.Language.toLowerCase().indexOf(val.toLowerCase()) > -1;\n      });\n    }else{\n      this.initializeItems();\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/allbooks/allbooks.ts"],"sourceRoot":""}